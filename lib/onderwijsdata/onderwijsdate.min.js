var Surfnet=Surfnet||{};
Surfnet.OnderwijsData=function(a){this.config={endPoint:a};this.init=function(){"/"!=this.config.endPoint.slice(-1)&&(this.config.endPoint+="/")};this.createPersonClient=function(){return new this.PersonClient(this.config)};this.createBuildingClient=function(){return new this.BuildingClient(this.config)};this.createRoomClient=function(){return new this.RoomClient(this.config)};this.createGroupClient=function(){return new this.GroupClient(this.config)};this.createNewsFeedClient=function(){return new this.NewsFeedClient(this.config)};
this.createNewsItemClient=function(){return new this.NewsItemClient(this.config)};this.createCourseResultClient=function(){return new this.CourseResultClient(this.config)};this.createMinorClient=function(){return new this.MinorClient(this.config)};this.createTestResultClient=function(){return new this.TestResultClient(this.config)};this.createCourseClient=function(){return new this.CourseClient(this.config)};this.createScheduleClient=function(){return new this.ScheduleClient(this.config)};this.init()};
Surfnet.OnderwijsData.APIClient={};
Surfnet.OnderwijsData.APIClient.prototype=function(){function a(g){var a=[],b;for(b in g)g.hasOwnProperty(b)&&a.push(encodeURIComponent(b)+"="+encodeURIComponent(g[b]));return a.join("&")}function b(a){if(null==a&&"[object Function]"!=Object.prototype.toString.call(a))throw Error('Callback is missing, include "function (error, data) { }" as parameter');}function f(a){return"[object Function]"==Object.prototype.toString.call(a)}function h(){var a=this.config.endPoint;"/"!=a.slice(-1)&&(a+="/");return a}
function k(b,d,e){null!=d&&(b=b+"?"+a(d));console.log(b);var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.open("GET",b,!0);c.setRequestHeader("Accept","application/json");c.onreadystatechange=function(){var a;4==c.readyState&&(a=c.status,200==a?(a=JSON.parse(c.responseText),e(null,a)):e(c.responseText,null))};c.send()}function l(a,d,e){2==arguments.length&&f(d)&&(e=d,d=null);if(null==a||f(a))throw Error('First argument should be "url"');b(e);k.call(this,a,
d,e)}return{getList:function(a,d){1==arguments.length&&f(a)&&(d=a,a=null);b(d);var e=h.call(this)+this.modelUrl;k.call(this,e,a,d)},getById:function(a,b,e){2==arguments.length&&f(b)&&(e=b,b=null);if(null==a||f(a))throw Error('First argument should be "id"');var c=h.call(this)+this.modelUrl,c=c+("/"+a.toString());l.call(this,c,b,e)},get:l}}();Surfnet.OnderwijsData.Tools=function(){};
Surfnet.OnderwijsData.Tools.extend=function(a,b){var f=function(){};f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a};Surfnet.OnderwijsData.prototype.BuildingClient=function(a){this.config=a;this.modelUrl="buildings"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.BuildingClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.CourseClient=function(a){this.config=a;this.modelUrl="courses";this.scheduleClient=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:a})};this.scheduleClientById=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:this.config.endPoint+this.modelUrl+"/"+a})}};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.CourseClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.CourseResultClient=function(a){this.config=a;this.modelUrl="courseresults"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.CourseResultClient,Surfnet.OnderwijsData.APIClient);Surfnet.OnderwijsData.prototype.GroupClient=function(a){this.config=a;this.modelUrl="groups"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.GroupClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.MinorClient=function(a){this.config=a;this.modelUrl="minors"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.MinorClient,Surfnet.OnderwijsData.APIClient);Surfnet.OnderwijsData.prototype.NewsFeedClient=function(a){this.config=a;this.modelUrl="newsfeeds"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.NewsFeedClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.NewsItemClient=function(a){this.config=a;this.modelUrl="newsitems"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.NewsItemClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.PersonClient=function(a){this.config=a;this.modelUrl="persons";this.scheduleClient=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:a})};this.scheduleClientById=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:this.config.endPoint+this.modelUrl+"/"+a})}};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.PersonClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.RoomClient=function(a){this.config=a;this.modelUrl="rooms";this.scheduleClient=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:a})};this.scheduleClientById=function(a){return new Surfnet.OnderwijsData.prototype.ScheduleClient({endPoint:this.config.endPoint+this.modelUrl+"/"+a})}};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.RoomClient,Surfnet.OnderwijsData.APIClient);
Surfnet.OnderwijsData.prototype.ScheduleClient=function(a,b){this.config=a;this.modelUrl="schedule"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.ScheduleClient,Surfnet.OnderwijsData.APIClient);Surfnet.OnderwijsData.prototype.TestResultClient=function(a){this.config=a;this.modelUrl="testresults"};Surfnet.OnderwijsData.Tools.extend(Surfnet.OnderwijsData.prototype.TestResultClient,Surfnet.OnderwijsData.APIClient);
